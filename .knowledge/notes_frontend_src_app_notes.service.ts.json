{"is_source_file": true, "format": "TypeScript", "description": "This file defines the NotesService class, an Angular injectable service responsible for managing notes. It includes methods for creating, reading, updating, and deleting notes, all stored in local storage.", "external_files": ["./notes.model"], "external_methods": ["window.crypto.randomUUID"], "published": ["NotesService"], "classes": [{"name": "NotesService", "description": "Provides methods to manage notes, including CRUD operations, using local storage for persistence."}], "methods": [{"name": "getNotes(): Note[] { getNotes", "description": "Loads all notes from local storage, restoring date fields.", "scope": "NotesService", "scopeKind": "class"}, {"name": "getNote(id: string): Note | undefined { getNote", "description": "Retrieves a specific note by its ID.", "scope": "NotesService", "scopeKind": "class"}, {"name": "createNote(note: Omit<Note, 'id'|'createdAt'|'updatedAt'>): Note { createNote", "description": "Creates a new note with unique ID and timestamps, then saves it.", "scope": "NotesService", "scopeKind": "class"}, {"name": "updateNote", "description": "Updates an existing note by ID with provided changes."}, {"name": "deleteNote(id: string): void { deleteNote", "description": "Deletes a note by ID.", "scope": "NotesService", "scopeKind": "class"}, {"name": "private saveAll(notes: Note[]) { saveAll", "description": "Persists the entire array of notes to local storage.", "scope": "NotesService", "scopeKind": "class"}, {"name": "clearAll() { clearAll", "description": "Removes all notes from storage.", "scope": "NotesService", "scopeKind": "class"}, {"name": "notes.unshift(newNote); notes", "scope": "NotesService", "scopeKind": "class", "description": "unavailable"}], "calls": ["window.localStorage.getItem", "window.localStorage.setItem", "window.localStorage.removeItem", "JSON.parse", "JSON.stringify", "window.crypto.randomUUID"], "search-terms": ["NotesService", "localStorage", "CRUD notes", "Angular service", "notes management"], "state": 2, "file_id": 21, "knowledge_revision": 97, "git_revision": "", "revision_history": [{"43": ""}, {"83": ""}, {"97": ""}], "ctags": [{"_type": "tag", "name": "NOTES_KEY", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-ee796738/notes_frontend/src/app/notes.service.ts", "pattern": "/^const NOTES_KEY = 'notes-db';$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "NotesService", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-ee796738/notes_frontend/src/app/notes.service.ts", "pattern": "/^export class NotesService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "clearAll", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-ee796738/notes_frontend/src/app/notes.service.ts", "pattern": "/^  clearAll() {$/", "language": "TypeScript", "kind": "method", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "createNote", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-ee796738/notes_frontend/src/app/notes.service.ts", "pattern": "/^  createNote(note: Omit<Note, 'id'|'createdAt'|'updatedAt'>): Note {$/", "language": "TypeScript", "kind": "method", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-ee796738/notes_frontend/src/app/notes.service.ts", "pattern": "/^    const data = JSON.parse(raw) as Note[];$/", "language": "TypeScript", "kind": "constant", "scope": "NotesService.getNotes", "scopeKind": "method"}, {"_type": "tag", "name": "deleteNote", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-ee796738/notes_frontend/src/app/notes.service.ts", "pattern": "/^  deleteNote(id: string): void {$/", "language": "TypeScript", "kind": "method", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "getNote", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-ee796738/notes_frontend/src/app/notes.service.ts", "pattern": "/^  getNote(id: string): Note | undefined {$/", "language": "TypeScript", "kind": "method", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "getNotes", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-ee796738/notes_frontend/src/app/notes.service.ts", "pattern": "/^  getNotes(): Note[] {$/", "language": "TypeScript", "kind": "method", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-ee796738/notes_frontend/src/app/notes.service.ts", "pattern": "/^      id: (typeof window !== 'undefined' && window.crypto && window.crypto.randomUUID$/", "language": "TypeScript", "kind": "constant", "scope": "NotesService.createNote", "scopeKind": "method"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-ee796738/notes_frontend/src/app/notes.service.ts", "pattern": "/^    const idx = notes.findIndex(n => n.id === id);$/", "language": "TypeScript", "kind": "constant", "scope": "NotesService.notes", "scopeKind": "method"}, {"_type": "tag", "name": "newNote", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-ee796738/notes_frontend/src/app/notes.service.ts", "pattern": "/^    const newNote: Note = {$/", "language": "TypeScript", "kind": "constant", "scope": "NotesService.createNote", "scopeKind": "method"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-ee796738/notes_frontend/src/app/notes.service.ts", "pattern": "/^    const notes = this.getNotes().filter(n => n.id !== id);$/", "language": "TypeScript", "kind": "constant", "scope": "NotesService.deleteNote", "scopeKind": "method"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-ee796738/notes_frontend/src/app/notes.service.ts", "pattern": "/^    const notes = this.getNotes();$/", "language": "TypeScript", "kind": "constant", "scope": "NotesService.createNote", "scopeKind": "method"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-ee796738/notes_frontend/src/app/notes.service.ts", "pattern": "/^    const notes = this.getNotes();$/", "language": "TypeScript", "kind": "constant", "scope": "NotesService.notes", "scopeKind": "method"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-ee796738/notes_frontend/src/app/notes.service.ts", "pattern": "/^    notes.unshift(newNote);$/", "language": "TypeScript", "kind": "method", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "now", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-ee796738/notes_frontend/src/app/notes.service.ts", "pattern": "/^    const now = new Date();$/", "language": "TypeScript", "kind": "constant", "scope": "NotesService.createNote", "scopeKind": "method"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-ee796738/notes_frontend/src/app/notes.service.ts", "pattern": "/^    const raw = window.localStorage.getItem(NOTES_KEY);$/", "language": "TypeScript", "kind": "constant", "scope": "NotesService.getNotes", "scopeKind": "method"}, {"_type": "tag", "name": "saveAll", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-ee796738/notes_frontend/src/app/notes.service.ts", "pattern": "/^  private saveAll(notes: Note[]) {$/", "language": "TypeScript", "kind": "method", "scope": "NotesService", "scopeKind": "class"}], "hash": "5b348e68ca70cd4f094702f6da7e6b47", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/app/notes.service.ts"}